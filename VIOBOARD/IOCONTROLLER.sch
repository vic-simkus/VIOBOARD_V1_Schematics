EESchema Schematic File Version 4
LIBS:VIOBOARD-cache
EELAYER 26 0
EELAYER END
$Descr USLetter 11000 8500
encoding utf-8
Sheet 7 21
Title "Vic's IO BOARD V1.0"
Date "2018-09-03"
Rev "D"
Comp ""
Comment1 "Copyright Vidas Simkus 2018"
Comment2 "Licensed under CERN OHL v.1.2"
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L device:C_Small C18
U 1 1 59155B56
P 6700 3300
F 0 "C18" V 6800 3250 39  0000 L CNN
F 1 "20pF 50V" V 6600 3200 39  0000 L CNN
F 2 "Capacitors_SMD:C_0805" H 6700 3300 50  0001 C CNN
F 3 "" H 6700 3300 50  0001 C CNN
F 4 "399-14568-2-ND" H 6700 3300 60  0001 C CNN "DKPN"
F 5 "C0805C200K5GACTU" V 6700 3300 60  0001 C CNN "MFGPN"
	1    6700 3300
	0    1    1    0   
$EndComp
$Comp
L device:C_Small C19
U 1 1 59155B5D
P 6700 3600
F 0 "C19" V 6600 3550 39  0000 L CNN
F 1 "18pF 50V" V 6800 3500 39  0000 L CNN
F 2 "Capacitors_SMD:C_0805" H 6700 3600 50  0001 C CNN
F 3 "" H 6700 3600 50  0001 C CNN
F 4 "1276-1107-1-ND" H 6700 3600 60  0001 C CNN "DKPN"
F 5 "CL21C180JBANNNC" V 6700 3600 60  0001 C CNN "MFGPN"
	1    6700 3600
	0    1    1    0   
$EndComp
$Comp
L device:Crystal Y2
U 1 1 59155B64
P 6400 3450
F 0 "Y2" H 6400 3600 50  0000 C CNN
F 1 "10MHz" H 6400 3300 50  0000 C CNN
F 2 "Crystals:Crystal_HC49-4H_Vertical" H 6400 3450 50  0001 C CNN
F 3 "" H 6400 3450 50  0001 C CNN
F 4 "887-1235-ND" H 6400 3450 60  0001 C CNN "DKPN"
F 5 "9B-10.000MEEJ-B" H 6400 3450 60  0001 C CNN "MFGPN"
	1    6400 3450
	0    1    1    0   
$EndComp
$Comp
L CUSTOM_COMPONENTS:R_C R10
U 1 1 59155BBE
P 5600 4850
F 0 "R10" V 5600 4850 50  0000 C CNN
F 1 "10K 1%" V 5500 4850 39  0000 C CNN
F 2 "Resistors_SMD:R_0805" V 5530 4850 50  0001 C CNN
F 3 "" H 5600 4850 50  0001 C CNN
F 4 "541-3016-1-ND" V 5600 4850 60  0001 C CNN "DKPN"
F 5 "CRCW080510K0FKTA" V 5600 4850 60  0001 C CNN "MFGPN"
	1    5600 4850
	1    0    0    -1  
$EndComp
Text HLabel 2950 2700 0    60   BiDi ~ 0
I2C_SDA
Text HLabel 2950 2550 0    60   BiDi ~ 0
I2C_SCL
Text Label 7250 4150 1    60   ~ 0
AN8/RB8/420_1
Text Label 7450 4150 1    60   ~ 0
AN5/RB5/420_2
Text Label 7650 4150 1    60   ~ 0
AN4/RB4/420_3
Text Label 7850 4150 1    60   ~ 0
AN3/RB3/420_4
$Sheet
S 9600 1900 800  1200
U 59251B3A
F0 "AI_PROT" 60
F1 "AI_PROT.sch" 60
F2 "AI_OUT_1" O L 9600 2250 60 
F3 "AI_OUT_2" O L 9600 2350 60 
F4 "AI_OUT_3" O L 9600 2450 60 
F5 "AI_OUT_4" O L 9600 2550 60 
F6 "AI_OUT_5" O L 9600 2650 60 
F7 "AI_OUT_6" O L 9600 2750 60 
F8 "AI_OUT_7" O L 9600 2850 60 
F9 "AI_OUT_8" O L 9600 2950 60 
F10 "PP_AI_FAULT" O L 9600 2050 30 
F11 "PP_AI_INPUT" O L 9600 2100 30 
F12 "PP_AI_FAULT_LED" I L 9600 2000 30 
$EndSheet
$Sheet
S 8100 2200 1000 2200
U 5929093D
F0 "AI_INPUT" 60
F1 "AI_INPUT.sch" 60
F2 "AI_OUT_420_1" O L 8100 3050 60 
F3 "AI_OUT_420_2" O L 8100 3150 60 
F4 "AI_OUT_420_3" O L 8100 3250 60 
F5 "AI_OUT_420_4" O L 8100 3350 60 
F6 "AI_OUT_ICD_1" O R 9100 3500 60 
F7 "AI_OUT_ICD_2" O R 9100 3600 60 
F8 "AI_OUT_ICD_3" O R 9100 3700 60 
F9 "AI_OUT_ICD_4" O R 9100 3800 60 
F10 "AI_IN_420_1" I R 9100 2250 60 
F11 "AI_IN_420_2" I R 9100 2350 60 
F12 "AI_IN_420_3" I R 9100 2450 60 
F13 "AI_IN_420_4" I R 9100 2550 60 
F14 "AI_IN_ICD_1" I R 9100 2650 60 
F15 "AI_IN_ICD_2" I R 9100 2750 60 
F16 "AI_IN_ICD_3" I R 9100 2850 60 
F17 "AI_IN_ICD_4" I R 9100 2950 60 
$EndSheet
$Sheet
S 2550 650  1000 800 
U 592B5967
F0 "STATUS_LEDS" 60
F1 "STATUS_LEDS.sch" 60
F2 "HTBT" I R 3550 1250 60 
F3 "COMMRX" I R 3550 1050 60 
F4 "COMMTX" I R 3550 1150 60 
F5 "AUX" I R 3550 950 60 
$EndSheet
Text Label 4350 2100 1    60   ~ 0
HTBT_LED
Text Label 4450 2100 1    60   ~ 0
BUS_OUT_LED
Text Label 4850 1800 1    60   ~ 0
BUS_IN_LED
Text Label 5050 1800 1    60   ~ 0
AUX_LED
Text Label 7850 5800 0    60   ~ 0
RB2/AN2/ICD4
Text Label 7850 5950 0    60   ~ 0
RB1/AN1/ICD3
Text Label 7850 6100 0    60   ~ 0
RB10/AN10/ICD2
Text Label 7850 6250 0    60   ~ 0
RB9/AN9/ICD1
$Comp
L CUSTOM_COMPONENTS:dsPIC30F4013 dsPIC1
U 1 1 59155B6B
P 4350 4500
AR Path="/59155B6B" Ref="dsPIC1"  Part="1" 
AR Path="/59154FA7/59155B6B" Ref="dsPIC1"  Part="1" 
F 0 "dsPIC1" H 4600 5350 60  0000 C CNN
F 1 "dsPIC30F4013" H 4600 5600 60  0000 C CNN
F 2 "Housings_QFP:TQFP-44_10x10mm_Pitch0.8mm" H 4600 5600 60  0001 C CNN
F 3 "" H 4600 5600 60  0001 C CNN
F 4 "DSPIC30F401330IPT-ND" H 4350 4500 60  0001 C CNN "DKPN"
F 5 "DSPIC30F4013-30I/PT" H 4350 4500 60  0001 C CNN "MFGPN"
	1    4350 4500
	1    0    0    -1  
$EndComp
Text Label 3150 3600 0    39   ~ 0
DO2/RF0
Text Label 3150 3500 0    39   ~ 0
DO1/RF1
Text Label 3350 1850 0    39   ~ 0
DO3/RF6
Text Label 3150 3400 0    39   ~ 0
DO4/RF4
Text Label 6400 5100 0    39   ~ 0
DSPIC_PGC
Text Label 6400 5000 0    39   ~ 0
DSPIC_PGD
$Sheet
S 1050 1750 1050 750 
U 592EA18F
F0 "DIGITAL_OUT" 60
F1 "DIGITAL_OUT.sch" 60
F2 "D_OUT1" I R 2100 2150 60 
F3 "D_OUT2" I R 2100 2050 60 
F4 "D_OUT3" I R 2100 1850 60 
F5 "D_OUT4" I R 2100 1950 60 
F6 "PP_DO_FAULT" O L 1050 2250 30 
F7 "PP_DO_INPUT" O L 1050 2150 30 
F8 "PP_DO_FAULT_LED" I R 2100 2250 30 
$EndSheet
Text Notes 5200 700  0    60   ~ 0
BOM - 2017-06-09
$Comp
L power:GND #PWR016
U 1 1 5955CFA6
P 8350 5000
F 0 "#PWR016" H 8350 4750 50  0001 C CNN
F 1 "GND" H 8350 4850 50  0000 C CNN
F 2 "" H 8350 5000 50  0001 C CNN
F 3 "" H 8350 5000 50  0001 C CNN
	1    8350 5000
	1    0    0    -1  
$EndComp
$Sheet
S 6350 3900 600  250 
U 595695C0
F0 "PWR_DEC_A" 35
F1 "PWR_DEC.sch" 35
F2 "UC_5V_OUT" O L 6350 4050 35 
F3 "UC_VSS" O L 6350 4000 35 
$EndSheet
$Comp
L power:GND #PWR017
U 1 1 59573D4F
P 7000 3650
F 0 "#PWR017" H 7000 3400 50  0001 C CNN
F 1 "GND" H 7000 3500 50  0000 C CNN
F 2 "" H 7000 3650 50  0001 C CNN
F 3 "" H 7000 3650 50  0001 C CNN
	1    7000 3650
	1    0    0    -1  
$EndComp
$Sheet
S 5350 2150 600  250 
U 595762F2
F0 "PWR_DEC_B" 35
F1 "PWR_DEC.sch" 35
F2 "UC_5V_OUT" O L 5350 2300 35 
F3 "UC_VSS" O L 5350 2350 35 
$EndSheet
$Sheet
S 1500 3650 600  250 
U 595829B5
F0 "PWR_DEC_C" 35
F1 "PWR_DEC.sch" 35
F2 "UC_5V_OUT" O R 2100 3800 35 
F3 "UC_VSS" O R 2100 3700 35 
$EndSheet
$Sheet
S 2750 4850 600  250 
U 5958475A
F0 "PWR_DEC_D" 35
F1 "PWR_DEC.sch" 35
F2 "UC_5V_OUT" O R 3350 5000 35 
F3 "UC_VSS" O R 3350 4950 35 
$EndSheet
Text GLabel 7050 5300 0    35   Input ~ 0
VDD_5V_PROT
Text GLabel 5600 5050 3    35   Input ~ 0
VDD_5V_PROT
$Sheet
S 2750 5600 600  350 
U 5968BE40
F0 "VREF+" 30
F1 "VREF+.sch" 30
F2 "VREF+" O R 3350 5800 30 
$EndSheet
NoConn ~ 3700 4100
NoConn ~ 3700 4200
Text Label 2650 3900 0    30   ~ 0
DO_FAULT/RD1
Text Label 950  3300 1    30   ~ 0
DO_FAULT/RD1
Text Label 2650 4000 0    30   ~ 0
AI_FAULT/RD0
Text Label 800  3300 1    30   ~ 0
AI_FAULT/RD0
Text Label 7100 550  2    30   ~ 0
AI_FAULT/R0
Text Label 9300 1200 3    30   ~ 0
AI_FAULT/RD0
Text Label 3400 3300 2    30   ~ 0
DO_ENABLE/RF5
Text Label 6050 3050 1    30   ~ 0
AI_ENABLE/RC13
Text Label 9000 2100 2    30   ~ 0
AI_ENABLE/RC13
$Comp
L VIOBOARD-rescue:CONN_01X06 J20
U 1 1 599AD6B1
P 7650 5600
AR Path="/599AD6B1" Ref="J20"  Part="1" 
AR Path="/59154FA7/599AD6B1" Ref="J20"  Part="1" 
F 0 "J20" H 7650 5950 50  0000 C CNN
F 1 "CONN_01X06" V 7750 5600 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Angled_1x06_Pitch2.54mm" H 7650 5600 50  0001 C CNN
F 3 "" H 7650 5600 50  0001 C CNN
F 4 "WM4104-ND" H 7650 5600 60  0001 C CNN "DKPN"
F 5 "0022052061" H 7650 5600 60  0001 C CNN "MFGPN"
	1    7650 5600
	0    -1   1    0   
$EndComp
Wire Wire Line
	6150 3300 6400 3300
Wire Wire Line
	6150 3600 6400 3600
Wire Wire Line
	6800 3300 6800 3450
Wire Wire Line
	6150 3300 6150 3350
Connection ~ 6400 3300
Wire Wire Line
	6150 3450 6150 3600
Connection ~ 6400 3600
Connection ~ 6800 3450
Wire Wire Line
	4350 1250 4350 2600
Wire Wire Line
	3550 1250 4350 1250
Wire Wire Line
	4450 1150 4450 2600
Wire Wire Line
	3550 1150 4450 1150
Wire Wire Line
	4850 1050 4850 2600
Wire Wire Line
	3550 1050 4850 1050
Wire Wire Line
	5050 950  5050 2600
Wire Wire Line
	3550 950  5050 950 
Wire Wire Line
	4750 4700 5600 4700
Wire Wire Line
	7450 4400 7450 3150
Wire Wire Line
	7650 4450 7650 3250
Wire Wire Line
	7850 4600 5150 4600
Wire Wire Line
	7850 3350 7850 4600
Wire Wire Line
	7250 3050 8100 3050
Wire Wire Line
	7450 3150 8100 3150
Wire Wire Line
	7650 3250 8100 3250
Wire Wire Line
	7850 3350 8100 3350
Wire Wire Line
	9100 2350 9600 2350
Wire Wire Line
	9100 2450 9600 2450
Wire Wire Line
	9100 2550 9600 2550
Wire Wire Line
	9100 2650 9600 2650
Wire Wire Line
	9100 2750 9600 2750
Wire Wire Line
	9100 2850 9600 2850
Wire Wire Line
	9100 3800 9400 3800
Wire Wire Line
	9400 3800 9400 5800
Wire Wire Line
	9400 5800 5050 5800
Wire Wire Line
	5050 5800 5050 4600
Wire Wire Line
	9100 3700 9450 3700
Wire Wire Line
	9450 3700 9450 5950
Wire Wire Line
	9450 5950 4950 5950
Wire Wire Line
	4950 5950 4950 4600
Wire Wire Line
	9100 3600 9500 3600
Wire Wire Line
	9500 3600 9500 6100
Wire Wire Line
	9100 3500 9550 3500
Wire Wire Line
	9550 3500 9550 6250
Wire Wire Line
	4450 6250 4450 4600
Wire Wire Line
	4250 1850 4250 2600
Wire Wire Line
	6800 3450 7000 3450
Wire Wire Line
	7000 3450 7000 3650
Wire Wire Line
	4650 2350 5350 2350
Wire Wire Line
	4550 2300 5350 2300
Wire Wire Line
	4550 2300 4550 2600
Wire Wire Line
	4650 2600 4650 2350
Wire Wire Line
	3350 4950 4550 4950
Wire Wire Line
	3350 5000 4650 5000
Wire Wire Line
	4550 4950 4550 4600
Wire Wire Line
	4650 5000 4650 4600
Wire Wire Line
	2950 2550 4150 2550
Wire Wire Line
	4150 2550 4150 2600
Wire Wire Line
	5750 3850 6000 3850
Wire Wire Line
	6150 3350 5750 3350
Wire Wire Line
	5750 3450 6150 3450
Wire Wire Line
	6350 4000 6100 4000
Wire Wire Line
	6100 4000 6100 3550
Wire Wire Line
	6100 3550 5750 3550
Wire Wire Line
	5750 3650 6050 3650
Wire Wire Line
	6050 3650 6050 4050
Wire Wire Line
	6050 4050 6350 4050
Wire Wire Line
	6000 3850 6000 5000
Wire Wire Line
	6000 5000 7700 5000
Wire Wire Line
	5750 3950 5950 3950
Wire Wire Line
	5950 3950 5950 5100
Wire Wire Line
	5950 5100 7800 5100
Wire Wire Line
	5750 3750 5900 3750
Wire Wire Line
	5900 3750 5900 4350
Wire Wire Line
	5900 4350 7250 4350
Wire Wire Line
	7250 4350 7250 3050
Wire Wire Line
	5750 4050 5850 4050
Wire Wire Line
	5850 4050 5850 4400
Wire Wire Line
	5850 4400 7450 4400
Wire Wire Line
	7650 4450 5800 4450
Wire Wire Line
	5800 4450 5800 4150
Wire Wire Line
	5800 4150 5750 4150
Wire Wire Line
	4350 6100 4350 4600
Wire Wire Line
	5600 5050 5600 5000
Wire Wire Line
	4750 4700 4750 4600
Connection ~ 5600 4700
Wire Wire Line
	4850 5800 4850 4600
Wire Wire Line
	3350 5800 4850 5800
Wire Wire Line
	3700 3200 3600 3200
Wire Wire Line
	3600 3200 3600 2700
Wire Wire Line
	3600 2700 2950 2700
Wire Wire Line
	9100 2250 9600 2250
Wire Wire Line
	9600 2950 9100 2950
Wire Wire Line
	3700 3400 2400 3400
Wire Wire Line
	2400 3400 2400 1950
Wire Wire Line
	3700 3500 2300 3500
Wire Wire Line
	2200 3600 3700 3600
Wire Wire Line
	2200 2050 2200 3600
Wire Wire Line
	3700 3700 2100 3700
Wire Wire Line
	2100 3800 3700 3800
Wire Wire Line
	2100 1850 4250 1850
Wire Wire Line
	2400 1950 2100 1950
Wire Wire Line
	3700 3900 2200 3900
Wire Wire Line
	2200 3900 2200 4050
Wire Wire Line
	2200 4050 950  4050
Wire Wire Line
	950  4050 950  2250
Wire Wire Line
	950  2250 1050 2250
Wire Wire Line
	3700 4000 2300 4000
Wire Wire Line
	2300 4000 2300 4150
Wire Wire Line
	2300 4150 800  4150
Wire Wire Line
	800  4150 800  550 
Wire Wire Line
	800  550  9300 550 
Wire Wire Line
	9300 550  9300 2050
Wire Wire Line
	3700 3300 1100 3300
Wire Wire Line
	1100 3300 1100 3500
Wire Wire Line
	1100 3500 600  3500
Wire Wire Line
	600  3500 600  2150
Wire Wire Line
	600  2150 1050 2150
Wire Wire Line
	9600 2100 6050 2100
Wire Wire Line
	6050 2100 6050 3250
Wire Wire Line
	6050 3250 5750 3250
Connection ~ 5800 4700
Wire Wire Line
	2200 2050 2100 2050
Wire Wire Line
	2100 2150 2300 2150
Wire Wire Line
	2300 2150 2300 3500
Wire Wire Line
	2100 2250 4750 2250
Wire Wire Line
	4750 2250 4750 2600
Wire Wire Line
	9300 2050 9600 2050
Wire Wire Line
	9600 2000 4950 2000
Wire Wire Line
	4950 2000 4950 2600
Wire Wire Line
	9550 6250 4450 6250
Wire Wire Line
	9500 6100 4350 6100
Wire Wire Line
	7400 4700 7400 5400
Wire Wire Line
	7600 4900 7600 5400
Wire Wire Line
	7700 5000 7700 5400
Wire Wire Line
	7800 5100 7800 5400
NoConn ~ 7900 5400
Wire Wire Line
	8350 4900 8350 5000
Wire Wire Line
	7600 4900 8350 4900
Wire Wire Line
	5800 4700 5800 5250
Wire Wire Line
	7050 5300 7500 5300
Wire Wire Line
	7500 5300 7500 5400
Text HLabel 5800 5250 3    30   BiDi ~ 0
IO_RESET
Wire Wire Line
	6400 3300 6600 3300
Wire Wire Line
	6400 3600 6600 3600
Wire Wire Line
	6800 3450 6800 3600
Wire Wire Line
	5600 4700 5800 4700
Wire Wire Line
	5800 4700 7400 4700
$EndSCHEMATC
